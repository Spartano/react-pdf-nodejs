<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
.button {
    cursor: pointer;
    border: 1px solid salmon;
}
    </style>
</head>
<body>


    <a class="button">Open PDF</a>
</body>
<script>
     try {
        const button = document.querySelector('a');

        button.addEventListener('click', (e) => {

            let apiEndpoint = '/api/print';

             fetch(apiEndpoint)
            .then((response) => {
                if (!response.ok || response.status === 202) throw response;
                return response.blob();
            })
            .then((data) => {
                // create a download anchor tag
                var downloadLink = document.createElement('a');
                downloadLink.target = '_blank';
                downloadLink.download = 'fileName';

                // convert downloaded data to a Blob
                var blob = new Blob([data], { type: 'application/pdf' });

                // create an object URL from the Blob
                var URL = window.URL || window.webkitURL;
                var downloadUrl = URL.createObjectURL(blob);

                //used  for opening before saving
                window.open(downloadUrl);

                //used for saving
                // set object URL as the anchor's href
                // downloadLink.href = downloadUrl;

                // // append the anchor to document body
                // document.body.appendChild(downloadLink);

                // // fire a click event on the anchor
                // downloadLink.click();

                // // cleanup: remove element and revoke object URL
                // document.body.removeChild(downloadLink);
                URL.revokeObjectURL(downloadUrl);
            });


        })
            } catch (error) {
            console.log(error)
            }
</script>
</html>